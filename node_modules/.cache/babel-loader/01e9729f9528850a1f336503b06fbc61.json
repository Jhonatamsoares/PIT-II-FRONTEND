{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\55389\\\\Documents\\\\PIT II\\\\front-end\\\\src\\\\components\\\\customerView\\\\mainpage\\\\ShopCart.jsx\";\nimport { Grid, Typography, Button } from '@material-ui/core';\nimport React from 'react';\nimport OrderCard from \"../../card/OrderCard\";\n\nconst axios = require('axios').default;\n\nclass ShopCart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orders: undefined\n    };\n    this.getCartOrders = this.getCartOrders.bind(this);\n    this.checkout = this.checkout.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCartOrders();\n  }\n\n  getCartOrders() {\n    axios.get(\"/api/customer/myCart/\" + this.props.currentUser.id).then(response => {\n      this.setState({\n        orders: response.data\n      });\n    }).catch(err => console.log(err));\n  }\n\n  checkout() {\n    axios.post(\"/api/order/checkoutAll\", {\n      orders: this.state.orders\n    }).then(response => {\n      this.getCartOrders();\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return this.props.currentUser && this.state.orders ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"space-evenly\",\n      spacing: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }, this.state.orders.length > 0 ? this.state.orders.map(order => /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      key: order.id,\n      xs: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(OrderCard, {\n      order: order,\n      userType: this.props.currentUser.type,\n      getOrders: this.getCartOrders,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }))) : /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 41\n      }\n    }, \"Seu carrinho de compras est\\xE1 vazio...\")), this.state.orders.length > 0 ? /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"checkoutBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"secondary\",\n      size: \"medium\",\n      onClick: this.checkout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 19\n      }\n    }, \"Confira todos os pedidos\"))))) : null)) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    });\n  }\n\n}\n\nexport default ShopCart;","map":{"version":3,"sources":["C:/Users/55389/Documents/PIT II/front-end/src/components/customerView/mainpage/ShopCart.jsx"],"names":["Grid","Typography","Button","React","OrderCard","axios","require","default","ShopCart","Component","constructor","props","state","orders","undefined","getCartOrders","bind","checkout","componentDidMount","get","currentUser","id","then","response","setState","data","catch","err","console","log","post","render","length","map","order","type"],"mappings":"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","sourcesContent":["import { Grid, Typography, Button } from '@material-ui/core';\r\nimport React from 'react';\r\nimport OrderCard from \"../../card/OrderCard\";\r\nconst axios = require('axios').default;\r\n\r\nclass ShopCart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      orders: undefined\r\n    }\r\n    this.getCartOrders = this.getCartOrders.bind(this);\r\n    this.checkout = this.checkout.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCartOrders();\r\n  }\r\n\r\n  getCartOrders() {\r\n    axios.get(\"/api/customer/myCart/\" + this.props.currentUser.id).then(\r\n      response => {\r\n        this.setState({orders: response.data});\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  checkout() {\r\n    axios.post(\"/api/order/checkoutAll\", {orders : this.state.orders}).then(\r\n      response => {\r\n        this.getCartOrders();\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return this.props.currentUser && this.state.orders ? (\r\n      <div>\r\n        <Grid container justify=\"space-evenly\" spacing={3}>\r\n          {this.state.orders.length > 0 ? this.state.orders.map(order => (\r\n            <Grid item key={order.id} xs={5}>\r\n              <OrderCard order={order} userType={this.props.currentUser.type} getOrders={this.getCartOrders} />\r\n            </Grid>\r\n          )) : <Typography variant=\"h5\"><i>Seu carrinho de compras est√° vazio...</i></Typography>}\r\n          {this.state.orders.length > 0 ? (\r\n            <Grid item xs={12}>\r\n              <div className=\"checkoutBox\">\r\n              <Grid container justify=\"flex-end\">\r\n                <Grid item>\r\n                  <Button variant=\"outlined\" color=\"secondary\" size=\"medium\" onClick={this.checkout}>\r\n                  Confira todos os pedidos\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n              </div>\r\n            </Grid>\r\n          ) : null}\r\n        </Grid>\r\n      </div>\r\n    ) : <div />\r\n  }\r\n}\r\n\r\nexport default ShopCart;"]},"metadata":{},"sourceType":"module"}