{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\55389\\\\Documents\\\\PIT II\\\\front-end\\\\src\\\\components\\\\card\\\\RestaurantCard.jsx\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { Typography, Card, CardHeader, CardContent, Collapse, IconButton, Avatar, Grid, Box, MobileStepper, Button } from \"@material-ui/core\";\nimport Rating from '@material-ui/lab/Rating';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport \"./Card.css\";\n\nconst axios = require('axios').default;\n\nclass RestaurantCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comments: undefined,\n      expanded: false,\n      activeStep: 0,\n      maxSteps: 0\n    };\n    this.findComments = this.findComments.bind(this);\n    this.handleExpandClick = this.handleExpandClick.bind(this);\n    this.handleNext = this.handleNext.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n  }\n\n  componentDidMount() {\n    this.findComments();\n  }\n\n  findComments() {\n    axios.get(\"/api/restaurant/getComments/\" + this.props.restaurantId).then(response => {\n      this.setState({\n        comments: response.data,\n        maxSteps: response.data.length\n      });\n    }).catch(err => console.log(err));\n  }\n\n  handleExpandClick() {\n    this.setState({\n      expanded: !this.state.expanded\n    });\n  }\n\n  handleNext() {\n    this.setState({\n      activeStep: this.state.activeStep + 1\n    });\n  }\n\n  handleBack() {\n    this.setState({\n      activeStep: this.state.activeStep - 1\n    });\n  }\n\n  render() {\n    return this.props.userId && this.props.restaurantId && this.props.restaurantInfo && this.state.comments ? /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      style: {\n        backgroundColor: \"#FAFAD2\",\n        height: \"40px\"\n      },\n      avatar: /*#__PURE__*/React.createElement(Avatar, {\n        \"aria-label\": \"recipe\",\n        style: {\n          backgroundColor: \"#FF4500\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, this.props.restaurantInfo.restaurantName.substring(0, 1)),\n      action: this.props.restaurantInfo.open ? /*#__PURE__*/React.createElement(Typography, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 47\n        }\n      }, \"Aberto\") : /*#__PURE__*/React.createElement(Typography, {\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 98\n        }\n      }, \"Fechado\"),\n      titleTypographyProps: {\n        variant: 'h5'\n      },\n      title: this.props.restaurantInfo.restaurantName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/customer/restaurant/\" + this.props.restaurantId,\n      className: \"link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"photoCardImage\",\n      src: this.props.restaurantInfo.imageUrl,\n      alt: this.props.restaurantInfo.restaurantName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(CardContent, {\n      style: {\n        backgroundColor: \"#e6f7ff\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"textSecondary\",\n      component: \"p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, this.props.restaurantInfo.description))), /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.handleExpandClick,\n      \"aria-expanded\": this.state.expanded,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, \"Ver coment\\xE1rios\")), /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Collapse, {\n      in: this.state.expanded,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, this.state.comments.length > 0 ? /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      component: \"fieldset\",\n      mb: 3,\n      borderColor: \"transparent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Rating, {\n      name: \"read-only\",\n      value: this.state.comments[this.state.activeStep].rating,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 67\n      }\n    }, this.state.comments[this.state.activeStep].content))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MobileStepper, {\n      steps: this.state.maxSteps,\n      position: \"static\",\n      variant: \"text\",\n      activeStep: this.state.activeStep,\n      nextButton: /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        onClick: this.handleNext,\n        disabled: this.state.activeStep === this.state.maxSteps - 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }\n      }, \"Proximo\", /*#__PURE__*/React.createElement(KeyboardArrowRight, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 23\n        }\n      })),\n      backButton: /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        onClick: this.handleBack,\n        disabled: this.state.activeStep === 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(KeyboardArrowLeft, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 23\n        }\n      }), \"De volta\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }))) : /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 59\n      }\n    }, \"Este estabelecimento n\\xE3o tem coment\\xE1rios\"))))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    });\n  }\n\n}\n\nexport default RestaurantCard;","map":{"version":3,"sources":["C:/Users/55389/Documents/PIT II/front-end/src/components/card/RestaurantCard.jsx"],"names":["React","Link","Typography","Card","CardHeader","CardContent","Collapse","IconButton","Avatar","Grid","Box","MobileStepper","Button","Rating","ExpandMoreIcon","KeyboardArrowLeft","KeyboardArrowRight","axios","require","default","RestaurantCard","Component","constructor","props","state","comments","undefined","expanded","activeStep","maxSteps","findComments","bind","handleExpandClick","handleNext","handleBack","componentDidMount","get","restaurantId","then","response","setState","data","length","catch","err","console","log","render","userId","restaurantInfo","backgroundColor","height","restaurantName","substring","open","variant","imageUrl","description","rating","content"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n    Typography,\r\n    Card,\r\n    CardHeader,\r\n    CardContent,\r\n    Collapse,\r\n    IconButton,\r\n    Avatar,\r\n    Grid,\r\n    Box,\r\n    MobileStepper,\r\n    Button\r\n        } from \"@material-ui/core\";\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport \"./Card.css\";\r\nconst axios = require('axios').default;\r\n\r\nclass RestaurantCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      comments : undefined,\r\n      expanded: false,\r\n      activeStep: 0,\r\n      maxSteps: 0\r\n    }\r\n    this.findComments = this.findComments.bind(this);\r\n    this.handleExpandClick = this.handleExpandClick.bind(this);\r\n    this.handleNext = this.handleNext.bind(this);\r\n    this.handleBack = this.handleBack.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.findComments();\r\n  }\r\n\r\n  findComments() {\r\n    axios.get(\"/api/restaurant/getComments/\" + this.props.restaurantId).then(\r\n      response => {\r\n        this.setState({comments : response.data, maxSteps: response.data.length});\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  handleExpandClick() {\r\n    this.setState({expanded : !this.state.expanded});\r\n  }\r\n\r\n  handleNext() {\r\n    this.setState({activeStep: this.state.activeStep + 1});\r\n  }\r\n\r\n  handleBack() {\r\n    this.setState({activeStep: this.state.activeStep - 1});\r\n  }\r\n\r\n  render() {\r\n    return this.props.userId && this.props.restaurantId && this.props.restaurantInfo && this.state.comments ? (\r\n      <Card>\r\n        <CardHeader\r\n          style={{backgroundColor: \"#FAFAD2\", height: \"40px\"}}\r\n          avatar={\r\n            <Avatar aria-label=\"recipe\" style={{backgroundColor: \"#FF4500\"}}>\r\n              {this.props.restaurantInfo.restaurantName.substring(0, 1)}\r\n            </Avatar>\r\n          }\r\n          action={\r\n            this.props.restaurantInfo.open ? (<Typography color=\"primary\">Aberto</Typography>) : <Typography color=\"secondary\">Fechado</Typography>}\r\n            titleTypographyProps={{variant:'h5'}}\r\n            title={this.props.restaurantInfo.restaurantName}\r\n        />\r\n        <Link to={\"/customer/restaurant/\" + this.props.restaurantId} className=\"link\">\r\n          <img className=\"photoCardImage\" src= {this.props.restaurantInfo.imageUrl} alt={this.props.restaurantInfo.restaurantName} />\r\n        </Link>\r\n        <CardContent style={{backgroundColor: \"#e6f7ff\"}}>\r\n          <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\r\n            <i>{this.props.restaurantInfo.description}</i>\r\n          </Typography>\r\n      </CardContent>\r\n      <IconButton\r\n        onClick={this.handleExpandClick}\r\n        aria-expanded={this.state.expanded}\r\n      >\r\n      <Typography><b>Ver comentários</b></Typography>\r\n        <ExpandMoreIcon />\r\n      </IconButton>\r\n      <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n          {this.state.comments.length > 0 ? \r\n            <Grid container justify=\"center\">\r\n              <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                <Rating name=\"read-only\" value={this.state.comments[this.state.activeStep].rating} readOnly />\r\n                <Typography color=\"textSecondary\" variant=\"body2\"><i>{this.state.comments[this.state.activeStep].content}</i></Typography>\r\n              </Box>\r\n              <Grid item xs={12}>\r\n                <MobileStepper \r\n                  steps={this.state.maxSteps}\r\n                  position=\"static\"\r\n                  variant=\"text\"\r\n                  activeStep={this.state.activeStep}\r\n                  nextButton={\r\n                    <Button size=\"small\" onClick={this.handleNext} disabled={this.state.activeStep === this.state.maxSteps - 1}>\r\n                      Proximo\r\n                      <KeyboardArrowRight />\r\n                    </Button>\r\n                  }\r\n                  backButton={\r\n                    <Button size=\"small\" onClick={this.handleBack} disabled={this.state.activeStep === 0}>\r\n                      <KeyboardArrowLeft />\r\n                      De volta\r\n                    </Button>\r\n                  }\r\n                /> \r\n              </Grid>\r\n            </Grid> \r\n            : <Typography variant=\"body1\" color=\"primary\"><i>Este estabelecimento não tem comentários</i></Typography>}\r\n        </CardContent>\r\n      </Collapse>\r\n      </Card>\r\n    ) : <div />;\r\n  }\r\n}\r\n\r\nexport default RestaurantCard;"]},"metadata":{},"sourceType":"module"}