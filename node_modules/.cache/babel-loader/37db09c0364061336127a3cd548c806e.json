{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\55389\\\\Documents\\\\PIT II\\\\front-end\\\\src\\\\components\\\\card\\\\OrderCard.jsx\";\nimport React from 'react';\nimport { Link } from \"react-router-dom\";\nimport ClearIcon from '@material-ui/icons/Clear';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Geocode from \"react-geocode\";\nimport { Typography, Card, CardContent, IconButton, Grid, Divider, Collapse, Button, Box, TextField } from \"@material-ui/core\";\nimport Rating from '@material-ui/lab/Rating';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport \"./Card.css\";\nimport MapCard from \"./MapCard\";\n\nconst axios = require('axios').default;\n\nGeocode.setApiKey(process.env.REACT_APP_API_KEY);\nGeocode.setRegion(\"us\");\nGeocode.enableDebug();\n\nclass OrderCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dict: {},\n      restaurant: undefined,\n      customer: undefined,\n      driver: undefined,\n      expanded: false,\n      resAddress: \"\",\n      cusAddress: \"\",\n      wrongAddress: false,\n      rating: 0,\n      comment: \"\"\n    };\n    this.orderInfo = this.orderInfo.bind(this);\n    this.fillDict = this.fillDict.bind(this);\n    this.handleExpandClick = this.handleExpandClick.bind(this);\n    this.deleteOrder = this.deleteOrder.bind(this);\n    this.acceptOrder = this.acceptOrder.bind(this);\n    this.finishOrder = this.finishOrder.bind(this);\n    this.deleteComment = this.deleteComment.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.addComment = this.addComment.bind(this);\n  }\n\n  componentDidMount() {\n    this.fillDict();\n    this.orderInfo();\n  }\n\n  handleChange(content) {\n    this.setState(content);\n  }\n\n  handleExpandClick() {\n    this.setState({\n      expanded: !this.state.expanded\n    });\n  }\n\n  fillDict() {\n    let menu = this.props.order.content;\n    let tempDict = this.state.dict;\n\n    for (let i = 0; i < menu.length; i++) {\n      if (tempDict[menu[i].dishName] === undefined) {\n        tempDict[menu[i].dishName] = 1;\n      } else {\n        tempDict[menu[i].dishName] = tempDict[menu[i].dishName] + 1;\n      }\n    }\n\n    this.setState({\n      dict: tempDict\n    });\n  }\n\n  orderInfo() {\n    axios.get(\"/api/restaurant/\" + this.props.order.restaurantId).then(response => {\n      this.setState({\n        restaurant: response.data\n      });\n      let resAddress = response.data.address + \",\" + response.data.city;\n      Geocode.fromAddress(resAddress).then(res => {\n        const {\n          lat,\n          lng\n        } = res.results[0].geometry.location;\n        this.setState({\n          resAddress: lat + \",\" + lng\n        });\n      }, error => {\n        this.setState({\n          wrongAddress: true\n        });\n      });\n    }).catch(err => console.log(err));\n    axios.get(\"/api/customer/\" + this.props.order.customerId).then(response => {\n      this.setState({\n        customer: response.data\n      });\n      let cusAddress = response.data.address + \",\" + response.data.city;\n      Geocode.fromAddress(cusAddress).then(res => {\n        const {\n          lat,\n          lng\n        } = res.results[0].geometry.location;\n        this.setState({\n          cusAddress: lat + \",\" + lng\n        });\n      }, error => {\n        this.setState({\n          wrongAddress: true\n        });\n      });\n    }).catch(err => console.log(err));\n\n    if (this.props.order.driverId) {\n      axios.get(\"/api/driver/\" + this.props.order.driverId).then(response => {\n        this.setState({\n          driver: response.data\n        });\n      }).catch(err => console.log(err));\n    }\n  }\n\n  deleteOrder() {\n    axios.delete(\"/api/order/\" + this.props.order.id).then(response => {\n      this.props.getOrders();\n    }).catch(err => console.log(err));\n  }\n\n  acceptOrder() {\n    axios.post(\"/api/driver/accept\", {\n      orderId: this.props.order.id,\n      driverId: sessionStorage.getItem(\"userId\")\n    }).then(response => {\n      this.props.getOrders();\n    }).catch(err => console.log(err));\n  }\n\n  finishOrder() {\n    axios.post(\"/api/driver/finish\", {\n      orderId: this.props.order.id\n    }).then(response => {\n      this.props.getOrders();\n    }).catch(err => console.log(err));\n  }\n\n  deleteComment() {\n    axios.delete(\"/api/order/deleteComment/\" + this.props.order.id).then(response => {\n      this.props.getOrders();\n    }).catch(err => console.log(err));\n  }\n\n  addComment() {\n    axios.post(\"/api/order/addComment\", {\n      orderId: this.props.order.id,\n      rating: this.state.rating,\n      content: this.state.comment\n    }).then(response => {\n      this.props.getOrders();\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return this.state.dict && this.state.restaurant && this.state.customer ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      style: {\n        position: \"relative\",\n        backgroundColor: \"#FAFAD2\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, this.props.userType === \"customer\" ? /*#__PURE__*/React.createElement(Link, {\n      to: \"/customer/restaurant/\" + this.state.restaurant.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"orderCardImage\",\n      src: this.state.restaurant.information.imageUrl,\n      alt: this.state.restaurant.information.restaurantName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    })) : null, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 16\n      }\n    }, \"Encomendar de \", this.state.restaurant.information.restaurantName)), this.props.userType === \"customer\" && !this.props.order.delivery ? /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      style: {\n        position: \"absolute\",\n        right: \"0\"\n      },\n      onClick: this.deleteOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ClearIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    })) : null), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    }, Object.keys(this.state.dict).map(key => /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"textSecondary\",\n      component: \"p\",\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 54\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 128\n      }\n    }, key), \" ... x \", this.state.dict[key])), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"column\",\n      alignItems: \"flex-end\",\n      spacing: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 61\n      }\n    }, \"Subtotal : R$ \", this.props.order.price))), this.props.userType === \"driver\" && !this.props.order.delivery ? /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"secondary\",\n      size: \"small\",\n      onClick: this.acceptOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 19\n      }\n    }, \"Aceitar este pedido\")) : null, this.props.userType === \"driver\" && this.props.order.delivery && this.props.order.endTime === null ? /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"secondary\",\n      size: \"small\",\n      onClick: this.finishOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    }, \"Finalize o pedido\")) : null), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.handleExpandClick,\n      \"aria-expanded\": this.state.expanded,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 23\n      }\n    }, \"Verifique o estado da ordem\")), /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Collapse, {\n      in: this.state.expanded,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 59\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 62\n      }\n    }, \"De :\")), \" \", this.state.restaurant.address, \", \", this.state.restaurant.city, \", \", this.state.restaurant.state, \", \", this.state.restaurant.zip), /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 59\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 62\n      }\n    }, \"Para :\")), \" \", this.state.customer.address, \", \", this.state.customer.city, \", \", this.state.customer.state, \", \", this.state.customer.zip), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 59\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 62\n      }\n    }, \"Contato do cliente :\")), \" \", this.state.customer.phoneNumber), /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 59\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 62\n      }\n    }, \"Contato do estabelecimento :\")), \" \", this.state.restaurant.phoneNumber), this.state.driver ? /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 80\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 83\n      }\n    }, \"Contado do entregador :\")), \" \", this.state.driver.phoneNumber) : null, this.props.order.startTime === null ? /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 39\n      }\n    }, \"Aguardando pagamento\")) : null, this.props.order.startTime !== null && !this.props.order.delivery ? /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 39\n      }\n    }, \"Aguardando um entregador...\")) : null, this.props.order.startTime !== null && this.props.order.delivery && this.props.order.endTime === null ? /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 39\n      }\n    }, \"Em entrega...\")) : null, this.props.order.startTime !== null && !this.props.order.delivery ? /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 39\n      }\n    }, \"Pedido feito em \", new Date(Date.parse(this.props.order.startTime)).toLocaleString())) : null, this.props.order.endTime !== null ? /*#__PURE__*/React.createElement(Typography, {\n      paragraph: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 39\n      }\n    }, \"Pedido j\\xE1 chegou em \", new Date(Date.parse(this.props.order.endTime)).toLocaleString())) : null, this.props.order.startTime !== null && this.props.order.delivery && this.state.wrongAddress ? /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 110\n      }\n    }, \"O endere\\xE7o n\\xE3o pode ser carregado, entre em contato com o motorista para obter informa\\xE7\\xF5es detalhadas sobre a rota\") : null, this.props.order.startTime !== null && this.props.order.delivery && !this.state.wrongAddress && this.state.resAddress && this.state.cusAddress ? /*#__PURE__*/React.createElement(MapCard, {\n      resAddress: this.state.resAddress,\n      cusAddress: this.state.cusAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 161\n      }\n    }) : null, /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }\n    }), this.props.userType === \"customer\" && this.props.order.endTime !== null && this.props.order.comment !== null ? /*#__PURE__*/React.createElement(Box, {\n      component: \"fieldset\",\n      mb: 3,\n      borderColor: \"transparent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Rating, {\n      name: \"read-only\",\n      value: this.props.order.comment.rating,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 69\n      }\n    }, this.props.order.comment.content)), /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.deleteComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }\n    }))) : null, this.props.userType === \"customer\" && this.props.order.endTime !== null && this.props.order.comment === null ? /*#__PURE__*/React.createElement(Box, {\n      component: \"fieldset\",\n      mb: 3,\n      borderColor: \"transparent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      component: \"legend\",\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 66\n      }\n    }, \"Rating : \")), /*#__PURE__*/React.createElement(Rating, {\n      name: \"simple-controlled\",\n      value: this.state.rating,\n      onChange: event => this.handleChange({\n        rating: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      label: \"Por favor, adicione seu coment\\xE1rio\",\n      type: \"text\",\n      value: this.state.comment,\n      onChange: event => this.handleChange({\n        comment: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: this.addComment,\n      disabled: this.state.rating === 0 || this.state.comment === \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }\n    }, \"Adicionar coment\\xE1rio\"))) : null, this.props.userType === \"restaurant\" && this.props.order.endTime !== null && this.props.order.comment !== null ? /*#__PURE__*/React.createElement(Box, {\n      component: \"fieldset\",\n      mb: 3,\n      borderColor: \"transparent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Rating, {\n      name: \"read-only\",\n      value: this.props.order.comment.rating,\n      readOnly: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      color: \"textSecondary\",\n      variant: \"body2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 69\n      }\n    }, this.props.order.comment.content))) : null)))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }\n    });\n  }\n\n}\n\nexport default OrderCard;","map":{"version":3,"sources":["C:/Users/55389/Documents/PIT II/front-end/src/components/card/OrderCard.jsx"],"names":["React","Link","ClearIcon","ExpandMoreIcon","Geocode","Typography","Card","CardContent","IconButton","Grid","Divider","Collapse","Button","Box","TextField","Rating","DeleteIcon","MapCard","axios","require","default","setApiKey","process","env","REACT_APP_API_KEY","setRegion","enableDebug","OrderCard","Component","constructor","props","state","dict","restaurant","undefined","customer","driver","expanded","resAddress","cusAddress","wrongAddress","rating","comment","orderInfo","bind","fillDict","handleExpandClick","deleteOrder","acceptOrder","finishOrder","deleteComment","handleChange","addComment","componentDidMount","content","setState","menu","order","tempDict","i","length","dishName","get","restaurantId","then","response","data","address","city","fromAddress","res","lat","lng","results","geometry","location","error","catch","err","console","log","customerId","driverId","delete","id","getOrders","post","orderId","sessionStorage","getItem","render","position","backgroundColor","userType","information","imageUrl","restaurantName","delivery","right","Object","keys","map","key","price","endTime","zip","phoneNumber","startTime","Date","parse","toLocaleString","event","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Geocode from \"react-geocode\";\r\nimport {\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  IconButton,\r\n  Grid,\r\n  Divider,\r\n  Collapse,\r\n  Button,\r\n  Box,\r\n  TextField\r\n      } from \"@material-ui/core\";\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport \"./Card.css\";\r\nimport MapCard from \"./MapCard\";\r\nconst axios = require('axios').default;\r\nGeocode.setApiKey(process.env.REACT_APP_API_KEY);\r\nGeocode.setRegion(\"us\");\r\nGeocode.enableDebug();\r\n\r\nclass OrderCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dict: {},\r\n      restaurant: undefined,\r\n      customer : undefined,\r\n      driver: undefined,\r\n      expanded: false,\r\n      resAddress : \"\",\r\n      cusAddress : \"\",\r\n      wrongAddress : false,\r\n      rating : 0,\r\n      comment : \"\"\r\n    }\r\n    this.orderInfo = this.orderInfo.bind(this);\r\n    this.fillDict = this.fillDict.bind(this);\r\n    this.handleExpandClick = this.handleExpandClick.bind(this);\r\n    this.deleteOrder = this.deleteOrder.bind(this);\r\n    this.acceptOrder = this.acceptOrder.bind(this);\r\n    this.finishOrder = this.finishOrder.bind(this);\r\n    this.deleteComment = this.deleteComment.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.addComment = this.addComment.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fillDict();\r\n    this.orderInfo();\r\n  }\r\n\r\n  handleChange(content) {\r\n    this.setState(content);\r\n  }\r\n\r\n  handleExpandClick() {\r\n    this.setState({expanded : !this.state.expanded});\r\n  }\r\n\r\n  fillDict() {\r\n    let menu = this.props.order.content;\r\n    let tempDict = this.state.dict;\r\n    for (let i = 0; i < menu.length; i++) {\r\n      if (tempDict[menu[i].dishName] === undefined) {\r\n        tempDict[menu[i].dishName] = 1;\r\n      } else {\r\n        tempDict[menu[i].dishName] = tempDict[menu[i].dishName] + 1;\r\n      }\r\n    }\r\n    this.setState({dict : tempDict});\r\n  }\r\n\r\n  orderInfo() {\r\n    axios.get(\"/api/restaurant/\" + this.props.order.restaurantId).then(\r\n      response => {\r\n        this.setState({restaurant: response.data});\r\n        let resAddress = response.data.address + \",\" + response.data.city;\r\n        Geocode.fromAddress(resAddress).then(\r\n          res => {\r\n            const { lat, lng } = res.results[0].geometry.location;\r\n            this.setState({resAddress : lat + \",\" + lng});\r\n          },\r\n          error => {\r\n            this.setState({wrongAddress : true});\r\n          }\r\n        );\r\n      }\r\n    ).catch(err => console.log(err));\r\n    axios.get(\"/api/customer/\" + this.props.order.customerId).then(\r\n      response => {\r\n        this.setState({customer: response.data});\r\n        let cusAddress = response.data.address + \",\" + response.data.city;\r\n        Geocode.fromAddress(cusAddress).then(\r\n          res => {\r\n            const { lat, lng } = res.results[0].geometry.location;\r\n            this.setState({cusAddress : lat + \",\" + lng});\r\n          },\r\n          error => {\r\n            this.setState({wrongAddress : true});\r\n          }\r\n        );\r\n      }\r\n    ).catch(err => console.log(err));\r\n    if (this.props.order.driverId) {\r\n      axios.get(\"/api/driver/\" + this.props.order.driverId).then(\r\n        response => {\r\n          this.setState({driver: response.data});\r\n        }\r\n      ).catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n  deleteOrder() {\r\n    axios.delete(\"/api/order/\" + this.props.order.id).then(\r\n      response => {\r\n        this.props.getOrders();\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  acceptOrder() {\r\n    axios.post(\"/api/driver/accept\", {\r\n      orderId : this.props.order.id,\r\n      driverId : sessionStorage.getItem(\"userId\")\r\n    }).then(\r\n      response => {\r\n        this.props.getOrders();\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  finishOrder() {\r\n    axios.post(\"/api/driver/finish\", {\r\n      orderId : this.props.order.id\r\n    }).then(\r\n      response => {\r\n        this.props.getOrders();\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  deleteComment() {\r\n    axios.delete(\"/api/order/deleteComment/\" + this.props.order.id).then(\r\n      response => {\r\n        this.props.getOrders();\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  addComment() {\r\n    axios.post(\"/api/order/addComment\", {\r\n      orderId : this.props.order.id,\r\n      rating : this.state.rating,\r\n      content : this.state.comment\r\n    }).then(\r\n      response => {\r\n        this.props.getOrders();\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return this.state.dict && this.state.restaurant && this.state.customer ? (\r\n      <div>\r\n        <Card>\r\n          <Typography variant=\"body1\" style={{position : \"relative\", backgroundColor: \"#FAFAD2\"}} >\r\n            {this.props.userType === \"customer\" ? \r\n              <Link to={\"/customer/restaurant/\" + this.state.restaurant.id}>\r\n                <img className=\"orderCardImage\" src= {this.state.restaurant.information.imageUrl} alt={this.state.restaurant.information.restaurantName} />\r\n              </Link> : null\r\n            }\r\n            <i><b>Encomendar de {this.state.restaurant.information.restaurantName}</b></i>\r\n            {this.props.userType === \"customer\" && !this.props.order.delivery ? (\r\n              <IconButton size=\"small\" style={{position : \"absolute\", right : \"0\"}} onClick={this.deleteOrder}>\r\n                <ClearIcon />\r\n              </IconButton>\r\n            ) : null}\r\n          </Typography>\r\n          <Divider />\r\n          <CardContent>\r\n            {Object.keys(this.state.dict).map(key => <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\" key={key}><i>{key}</i> ... x {this.state.dict[key]}</Typography>)}\r\n            <Divider />\r\n            <br />\r\n            <Grid container direction=\"column\" alignItems=\"flex-end\" spacing={1}>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"body1\" color=\"primary\"><i>Subtotal : R$ {this.props.order.price}</i></Typography>\r\n              </Grid>\r\n              {this.props.userType === \"driver\" && !this.props.order.delivery ? \r\n                <Grid item xs={12}>\r\n                  <Button variant=\"outlined\" color=\"secondary\" size=\"small\" onClick={this.acceptOrder}>\r\n                  Aceitar este pedido\r\n                  </Button>\r\n                </Grid> : null\r\n              }\r\n              {this.props.userType === \"driver\" && this.props.order.delivery && this.props.order.endTime === null ?\r\n                <Grid item xs={12}>\r\n                  <Button variant=\"outlined\" color=\"secondary\" size=\"small\" onClick={this.finishOrder}>\r\n                  Finalize o pedido\r\n                  </Button>\r\n                </Grid> : null\r\n              }\r\n            </Grid>\r\n            <br />\r\n            <Divider />\r\n          </CardContent>\r\n          <IconButton\r\n            onClick={this.handleExpandClick}\r\n            aria-expanded={this.state.expanded}\r\n          >\r\n          <Typography><b>Verifique o estado da ordem</b></Typography>\r\n            <ExpandMoreIcon />\r\n          </IconButton>\r\n          <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\r\n            <CardContent>\r\n              <Typography color=\"textSecondary\" paragraph><i><b>De :</b></i> {this.state.restaurant.address}, {this.state.restaurant.city}, {this.state.restaurant.state}, {this.state.restaurant.zip}</Typography>\r\n              <Typography color=\"textSecondary\" paragraph><i><b>Para :</b></i> {this.state.customer.address}, {this.state.customer.city}, {this.state.customer.state}, {this.state.customer.zip}</Typography>\r\n              <Divider />\r\n              <Typography color=\"textSecondary\" paragraph><i><b>Contato do cliente :</b></i> {this.state.customer.phoneNumber}</Typography>\r\n              <Typography color=\"textSecondary\" paragraph><i><b>Contato do estabelecimento :</b></i> {this.state.restaurant.phoneNumber}</Typography>\r\n              {this.state.driver ? <Typography color=\"textSecondary\" paragraph><i><b>Contado do entregador :</b></i> {this.state.driver.phoneNumber}</Typography> : null}\r\n              {this.props.order.startTime === null ? (\r\n                <Typography paragraph><i>Aguardando pagamento</i></Typography>\r\n              ) : null}\r\n              {this.props.order.startTime !== null && !this.props.order.delivery ? (\r\n                <Typography paragraph><i>Aguardando um entregador...</i></Typography>\r\n              ) : null}\r\n              {this.props.order.startTime !== null && this.props.order.delivery && this.props.order.endTime === null ? (\r\n                <Typography paragraph><i>Em entrega...</i></Typography>\r\n              ) : null}\r\n              {this.props.order.startTime !== null && !this.props.order.delivery ? (\r\n                <Typography paragraph><i>Pedido feito em {new Date(Date.parse(this.props.order.startTime)).toLocaleString()}</i></Typography>\r\n              ) : null}\r\n              {this.props.order.endTime !== null ? (\r\n                <Typography paragraph><i>Pedido j chegou em {new Date(Date.parse(this.props.order.endTime)).toLocaleString()}</i></Typography>\r\n              ) : null}\r\n              {this.props.order.startTime !== null && this.props.order.delivery && this.state.wrongAddress ? <Typography variant=\"body1\" color=\"secondary\">O endereo no pode ser carregado, entre em contato com o motorista para obter informaes detalhadas sobre a rota</Typography> : null}\r\n              {this.props.order.startTime !== null && this.props.order.delivery && !this.state.wrongAddress && this.state.resAddress && this.state.cusAddress ? <MapCard resAddress={this.state.resAddress} cusAddress={this.state.cusAddress} /> : null}\r\n              <Divider />\r\n              {this.props.userType === \"customer\" && this.props.order.endTime !== null && this.props.order.comment !== null ? (\r\n                <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                  <Rating name=\"read-only\" value={this.props.order.comment.rating} readOnly />\r\n                  <Typography color=\"textSecondary\" variant=\"body2\"><i>{this.props.order.comment.content}</i></Typography>\r\n                  <IconButton onClick={this.deleteComment}>\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Box>\r\n              ) : null}\r\n              {this.props.userType === \"customer\" && this.props.order.endTime !== null && this.props.order.comment === null ? (\r\n                <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                  <Typography component=\"legend\" variant=\"body2\"><i>Rating : </i></Typography>\r\n                  <Rating name=\"simple-controlled\" value={this.state.rating} onChange={event => this.handleChange({rating: event.target.value})} />\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    label=\"Por favor, adicione seu comentrio\"\r\n                    type=\"text\"\r\n                    value={this.state.comment}\r\n                    onChange={event => this.handleChange({comment: event.target.value})}\r\n                  />\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    onClick={this.addComment}\r\n                    disabled={this.state.rating === 0 || this.state.comment === \"\"}\r\n                  >\r\n                    <b>Adicionar comentrio</b>\r\n                  </Button>\r\n                </Box>\r\n              ) : null}\r\n              {this.props.userType === \"restaurant\" && this.props.order.endTime !== null && this.props.order.comment !== null ? (\r\n                <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                  <Rating name=\"read-only\" value={this.props.order.comment.rating} readOnly />\r\n                  <Typography color=\"textSecondary\" variant=\"body2\"><i>{this.props.order.comment.content}</i></Typography>\r\n                </Box>\r\n              ) : null}\r\n            </CardContent>\r\n          </Collapse>\r\n        </Card>\r\n      </div>\r\n    ) : <div />;\r\n  }\r\n}\r\n\r\nexport default OrderCard;"]},"metadata":{},"sourceType":"module"}